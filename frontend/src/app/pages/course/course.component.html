<div class="course-container">
  <div class="header-row">
    <button mat-raised-button color="primary" class="back-button" (click)="goBack()">Back to Dashboard</button>
  </div>
  
  <section class="assignments-section">
    <h2 class="section-subtitle">{{ courseName }}</h2>
    <div *ngIf="assignments.length === 0" class="empty-message">
      <p>No assignments added yet. Use the form below to add one.</p>
    </div>
    <div class="assignment-grid" *ngIf="assignments.length > 0">
      <mat-card class="assignment-card" *ngFor="let a of assignments; let i = index">
        <mat-card-header>
          <mat-card-title>{{ a.title }}</mat-card-title>
          <mat-card-subtitle>Due: {{ a.dueDate }}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <p><strong>Grade:</strong> {{ a.grade }}%</p>
        </mat-card-content>
        <mat-card-actions align="end">
          <button mat-stroked-button color="accent" (click)="startEdit(i)">Edit</button>
          <button mat-stroked-button color="warn" (click)="deleteAssignment(i)">Delete</button>
        </mat-card-actions>
      </mat-card>
    </div>
  </section>
  
  <section class="assignment-form-section">
    <h2 class="section-subtitle">{{ editing ? 'Edit Assignment' : 'Add Assignment' }}</h2>
    <mat-card class="assignment-form-card">
      <app-assignment-form
        [assignment]="selectedAssignment"
        [isEditing]="editing"
        [index]="selectedIndex"
        (submitAssignment)="handleSubmitAssignment($event)">
      </app-assignment-form>
    </mat-card>
  </section>
</div>